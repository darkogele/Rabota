@inherits System.Web.Mvc.WebViewPage
<style>
    

     .HeaderStyle
{
    border: 2px solid #999999 !important;
    background-position: top;
    background-repeat: repeat-x;
    background-color: #06B4C0;
}

         .RowStyle td, .AltRowStyle td, .SelectedRowStyle td, .EditRowStyle td
{
    border: solid 1px #91a7b4;
    border-right-color: #bcbcbc;    
    padding-left: 5px;
    padding-right: 5px;
}
          .RowStyle td
{
    background-color: #f7f7f7;
}
.AltRowStyle td
{
    background-color: #E1E1E1;
    background-position: 0 -80px;
    background-repeat: repeat-x;
}
table
{
    border-collapse: separate;
    border-spacing: 0;
}
 .GridViewStyle
{
    font-family: Arial, Sans-Serif;
    font-size: small;
    table-layout: auto;
    border-collapse: collapse;
    border: 1px solid #CCCCCC;
    overflow: auto;
}

</style>
<h2>Катастарска парцела - Агенција за катастар на недвижности</h2>

<form name="aknCadastralParcelForm" >
    
    <div class="container">
        <div class="col-lg-3">

            @* Username *@
            @*<div class="form-group" ng-class="{ 'has-error' : usernameFormField.username.$invalid }">
                <ng-form name="usernameFormField">
                    <label for="username">Корисничко име:</label>
                    <input id="username" type="text" class="form-control" name="username" ng-model="username" required>
                </ng-form>
            </div>*@

            @* Password *@
            @*<div class="form-group" ng-class="{ 'has-error' : passwordFormField.password.$invalid }">
                <ng-form name="passwordFormField">
                    <label for="password">Лозинка:</label>
                    <input id="password" type="password" class="form-control" name="password" ng-model="password" required>
                </ng-form>
            </div>*@

            @* Municipality *@
            <div class="form-group" ng-class="{ 'has-error' : municipalityFormField.municipality.$invalid }">
                <ng-form name="municipalityFormField">
                    <label for="municipality">Општина:</label>
                    <select class="form-control" name="userRole" ng-model="municipality" ng-change="changeMunicipality(municipality.value)" required autofocus ng-options="mun as mun.name for mun in municipalities |orderBy:'name'  track by mun.value"></select>
                </ng-form>
            </div>

            @* CadastralMunicipality *@
            <div class="form-group" ng-class="{ 'has-error' : cadastralMunicipalityFormField.cadastralMunicipality.$invalid }">
                <ng-form name="cadastralMunicipalityFormField">
                    <label for="cadastralMunicipality">Катастарска Општина:</label>
                    @*<input id="cadastralMunicipality" type="text" class="form-control" name="cadastralMunicipality" ng-model="cadastralMunicipality" required>*@
                    <select class="form-control" name="userRole" ng-model="cadastralMunicipality" required autofocus ng-options="cadMun as cadMun.name for cadMun in cadastralMunicipalities |orderBy:'name' track by cadMun.value"></select>
                </ng-form>
            </div>

            @* Number Of Cadastral Parcel *@
            <div class="form-group" ng-class="{ 'has-error' : noCadastralParcelFormField.noCadastralParcel.$invalid }">
                <ng-form name="noCadastralParcelFormField">
                    <label for="noCadastralParcel">Број на Катастарска парцела:</label>
                    <input id="noCadastralParcel" type="text" class="form-control" name="noCadastralParcel" ng-model="noCadastralParcel" required>
                </ng-form>
            </div>

            <div class="modal-footer">
                <button type="submit" class="btn btn-primary" ng-disabled="aknCadastralParcelForm.$invalid" ng-click="aknCadastralParcel(municipality.value,cadastralMunicipality.value,noCadastralParcel)"><i class="fa fa-save"></i> Испрати</button>
                <a class="btn btn-warning" href="#/akn/akncadastralparcel" ui-sref="akncadastralparcelindex">Откажи</a>
            </div>

        </div>

        <div ng-show="show" class="col-lg-9">

            <div class="form-group">
                <ng-form name="messageItemFormField">
                    <label for="messageItem">Порака: </label>
                    <input id="messageItem" type="text" class="form-control" name="messageItem" ng-model="messageItem">
                </ng-form>
            </div>

            <table class="GridViewStyle" cellspacing="0" rules="all" border="1" id="GridViewParceli" style="border-collapse:collapse;width: 100%" ng-show="(attributesList).length">
                <thead>
                    <tr>

                        <p style="background-color: lightgray" ng-show="(attributesList).length"><b>Податоци за парцела</b></p>

                    </tr>
                    <tr class="HeaderStyle">
                        <th scope="col">Број на парцела/дел</th>
                        <th scope="col">Имотен лист</th>
                        <th scope="col">Катастарска општина</th>
                        <th scope="col">Намена</th>
                        <th scope="col">Место</th>
                        <th scope="col">Објект</th>
                        <th scope="col">Општина</th>
                        <th scope="col">Површина во м2</th>
                        <th scope="col">Право</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="RowStyle" ng-repeat="parcel in attributesList">
                        <td>{{parcel.partNumber}}</td>
                        <td>{{parcel.propertyList}}</td>
                        <td>{{cadastralMunicipality.value}}</td>
                        <td>{{parcel.culture}}</td>
                        <td>{{parcel.location}}</td>
                        <td>{{parcel.object}}</td>
                        <td>{{municipality.value}}</td>
                        <td>{{parcel.area}}</td>
                        <td>{{parcel.pravo}}</td>
                    </tr>
                </tbody>
            </table>
            <p></p>
            <div class="row text-center">
                <a class="btn btn-default" ng-click="KatastarXML()"><span class="glyphicon glyphicon-floppy-save"></span> Преземи во XML формат</a>
                <a class="btn btn-default" ng-click="KatastarPDF()"><span class="glyphicon glyphicon-floppy-save"></span> Преземи во PDF формат</a>
            </div>
        </div>
    </div>
</form>