GO

--MERGE generated by 'sp_generate_merge' stored procedure, Version 0.93
--Originally by Vyas (http://vyaskn.tripod.com): sp_generate_inserts (build 22)
--Adapted for SQL Server 2008/2012 by Daniel Nolan (http://danere.com)

SET NOCOUNT ON

SET IDENTITY_INSERT [MessageLogs] ON

MERGE INTO [MessageLogs] AS Target
USING (VALUES
  (1,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(2,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(3,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(4,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(5,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(6,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(7,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(8,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(9,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(10,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(11,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(12,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(13,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(14,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(15,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(16,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(17,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-11T11:32:01.860','2015-11-11T11:32:01.860','Signature1','CorrelationId1')
 ,(18,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(19,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(20,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(21,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(22,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(23,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(24,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(25,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(26,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(27,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(28,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(29,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(30,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(31,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(32,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(33,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
 ,(34,'Consumer1','Provider1','RoutingToken1','Service1','ServiceMethod1','00000000-0000-0000-0000-000000000000                                                                                                                                                                                                                           ','Dir1','CallType1','PublicKey1','Status1','MimeType1','2015-11-19T09:14:13.317','2015-11-19T09:14:13.317','Signature1','CorrelationId1')
) AS Source ([Id],[Consumer],[Provider],[RoutingToken],[Service],[ServiceMethod],[TransactionId],[Dir],[CallType],[PublicKey],[Status],[MimeType],[Timestamp],[CreateDate],[Signature],[CorrelationId])
ON (Target.[Id] = Source.[Id])
WHEN MATCHED AND (
	NULLIF(Source.[Consumer], Target.[Consumer]) IS NOT NULL OR NULLIF(Target.[Consumer], Source.[Consumer]) IS NOT NULL OR 
	NULLIF(Source.[Provider], Target.[Provider]) IS NOT NULL OR NULLIF(Target.[Provider], Source.[Provider]) IS NOT NULL OR 
	NULLIF(Source.[RoutingToken], Target.[RoutingToken]) IS NOT NULL OR NULLIF(Target.[RoutingToken], Source.[RoutingToken]) IS NOT NULL OR 
	NULLIF(Source.[Service], Target.[Service]) IS NOT NULL OR NULLIF(Target.[Service], Source.[Service]) IS NOT NULL OR 
	NULLIF(Source.[ServiceMethod], Target.[ServiceMethod]) IS NOT NULL OR NULLIF(Target.[ServiceMethod], Source.[ServiceMethod]) IS NOT NULL OR 
	NULLIF(Source.[TransactionId], Target.[TransactionId]) IS NOT NULL OR NULLIF(Target.[TransactionId], Source.[TransactionId]) IS NOT NULL OR 
	NULLIF(Source.[Dir], Target.[Dir]) IS NOT NULL OR NULLIF(Target.[Dir], Source.[Dir]) IS NOT NULL OR 
	NULLIF(Source.[CallType], Target.[CallType]) IS NOT NULL OR NULLIF(Target.[CallType], Source.[CallType]) IS NOT NULL OR 
	NULLIF(Source.[PublicKey], Target.[PublicKey]) IS NOT NULL OR NULLIF(Target.[PublicKey], Source.[PublicKey]) IS NOT NULL OR 
	NULLIF(Source.[Status], Target.[Status]) IS NOT NULL OR NULLIF(Target.[Status], Source.[Status]) IS NOT NULL OR 
	NULLIF(Source.[MimeType], Target.[MimeType]) IS NOT NULL OR NULLIF(Target.[MimeType], Source.[MimeType]) IS NOT NULL OR 
	NULLIF(Source.[Timestamp], Target.[Timestamp]) IS NOT NULL OR NULLIF(Target.[Timestamp], Source.[Timestamp]) IS NOT NULL OR 
	NULLIF(Source.[CreateDate], Target.[CreateDate]) IS NOT NULL OR NULLIF(Target.[CreateDate], Source.[CreateDate]) IS NOT NULL OR 
	NULLIF(Source.[Signature], Target.[Signature]) IS NOT NULL OR NULLIF(Target.[Signature], Source.[Signature]) IS NOT NULL OR 
	NULLIF(Source.[CorrelationId], Target.[CorrelationId]) IS NOT NULL OR NULLIF(Target.[CorrelationId], Source.[CorrelationId]) IS NOT NULL) THEN
 UPDATE SET
  [Consumer] = Source.[Consumer], 
  [Provider] = Source.[Provider], 
  [RoutingToken] = Source.[RoutingToken], 
  [Service] = Source.[Service], 
  [ServiceMethod] = Source.[ServiceMethod], 
  [TransactionId] = Source.[TransactionId], 
  [Dir] = Source.[Dir], 
  [CallType] = Source.[CallType], 
  [PublicKey] = Source.[PublicKey], 
  [Status] = Source.[Status], 
  [MimeType] = Source.[MimeType], 
  [Timestamp] = Source.[Timestamp], 
  [CreateDate] = Source.[CreateDate], 
  [Signature] = Source.[Signature], 
  [CorrelationId] = Source.[CorrelationId]
WHEN NOT MATCHED BY TARGET THEN
 INSERT([Id],[Consumer],[Provider],[RoutingToken],[Service],[ServiceMethod],[TransactionId],[Dir],[CallType],[PublicKey],[Status],[MimeType],[Timestamp],[CreateDate],[Signature],[CorrelationId])
 VALUES(Source.[Id],Source.[Consumer],Source.[Provider],Source.[RoutingToken],Source.[Service],Source.[ServiceMethod],Source.[TransactionId],Source.[Dir],Source.[CallType],Source.[PublicKey],Source.[Status],Source.[MimeType],Source.[Timestamp],Source.[CreateDate],Source.[Signature],Source.[CorrelationId])
WHEN NOT MATCHED BY SOURCE THEN 
 DELETE;

GO
DECLARE @mergeError int
 , @mergeCount int
SELECT @mergeError = @@ERROR, @mergeCount = @@ROWCOUNT
IF @mergeError != 0
 BEGIN
 PRINT 'ERROR OCCURRED IN MERGE FOR [MessageLogs]. Rows affected: ' + CAST(@mergeCount AS VARCHAR(100)); -- SQL should always return zero rows affected
 END
ELSE
 BEGIN
 PRINT '[MessageLogs] rows affected by MERGE: ' + CAST(@mergeCount AS VARCHAR(100));
 END
GO

SET IDENTITY_INSERT [MessageLogs] OFF
GO
SET NOCOUNT OFF
GO