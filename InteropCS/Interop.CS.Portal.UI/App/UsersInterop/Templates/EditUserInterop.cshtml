@inherits System.Web.Mvc.WebViewPage

<div class="col-lg-5 col-lg-offset-3">
    <form name="userr.form">
        <h2 class="text-center">Измени корисник</h2>
        <hr />
        <div class="row">
            <div class="form-group" ng-class="{ 'has-error' : usernameFormField.username.$invalid }">
                <label class="clearfix">Корисничко име</label>
                <ng-form name="usernameFormField">
                    <input type="text" class="form-control" name="username" data-ng-model="userName" required autofocus />
                </ng-form>
            </div>
            <div class="form-group" ng-class="{ 'has-error' : emailFormField.email.$invalid }">
                <label class="clearfix">E-mail</label>
                <ng-form name="emailFormField">
                    <input type="email" class="form-control" name="email" data-ng-model="email" required autofocus />
                </ng-form>
            </div>
            <div ng-if="authentication.isAuth && !authentication.superPermision" class="form-group" ng-class="{ 'has-error' : oldPasswordFormField.password.$invalid }">
                <label class="clearfix">Лозинка</label>
                <ng-form name="oldPasswordFormField">
                    <input type="password" class="form-control" name="oldpassword" data-ng-model="oldpassword" />
                </ng-form>
            </div>
            <div class="form-group" ng-class="{ 'has-error' : passwordFormField.password.$invalid }">
                <label class="clearfix">Нова лозинка</label>
                <ng-form name="passwordFormField">
                    <input type="password" class="form-control" name="password" data-ng-model="password" />
                </ng-form>
            </div>
            <div class="form-group" ng-class="{ 'has-error' : confirmPasswordFormField.ConfirmPassword.$invalid }">
                <label class="clearfix">Потврди нова лозинка</label>
                <ng-form name="confirmPasswordFormField">
                    <input type="password" class="form-control" name="ConfirmPassword" data-ng-model="confirmPassword" />
                </ng-form>
            </div>
            <div class="form-group">
                <label class="clearfix">Улога</label>
                <select class="form-control"
                        ng-model="userroleddl"
                        name="roleforuser"
                        ng-required="true"
                        ng-class="{ 'has-error' : userr.form.roleforuser.$invalid }">
                    <option value="" disabled>Одбери улога</option>
                    <option ng-selected="{{role.id == userroleddl}}" ng-repeat="role in roles" value="{{role.id}}" ng-show="role.isAvailableForSelecting">{{role.name}}</option>
                </select>
            </div>
        </div>

        <div class="modal-footer">
            <button ng-click="savee(userroleddl, email, userName,oldpassword,password,confirmPassword)" type="submit" class="btn btn-primary" ng-disabled="userr.form.$invalid"><i class="fa fa-save" /> Зачувај</button>
            <button type="submit" class="btn btn-warning" ui-sref="users({pageIndex:1,itemsPerPage:10})">Откажи</button>
        </div>
    </form>
</div>